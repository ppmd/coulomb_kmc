
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>coulomb_kmc.kmc_dirichlet_boundary module &#8212; coulomb_kmc 1 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="coulomb_kmc.kmc_expansion_tools module" href="coulomb_kmc.kmc_expansion_tools.html" />
    <link rel="prev" title="coulomb_kmc.kmc_direct module" href="coulomb_kmc.kmc_direct.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-coulomb_kmc.kmc_dirichlet_boundary">
<span id="coulomb-kmc-kmc-dirichlet-boundary-module"></span><h1>coulomb_kmc.kmc_dirichlet_boundary module<a class="headerlink" href="#module-coulomb_kmc.kmc_dirichlet_boundary" title="Permalink to this headline">¶</a></h1>
<p>Module to handle Dirichlet boundary conditions. By using mirror charges mirror “plate like” boundary conditions are 
achieved.</p>
<p>This implementation allows for planes where the field is zero at either end and the middle of a domain in a direction.</p>
<dl class="py class">
<dt id="coulomb_kmc.kmc_dirichlet_boundary.MirrorChargeSystem">
<em class="property">class </em><code class="sig-prename descclassname">coulomb_kmc.kmc_dirichlet_boundary.</code><code class="sig-name descname">MirrorChargeSystem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dims_to_zero</span></em>, <em class="sig-param"><span class="n">state</span></em>, <em class="sig-param"><span class="n">position_name</span></em>, <em class="sig-param"><span class="n">charge_name</span></em>, <em class="sig-param"><span class="n">id_name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#coulomb_kmc.kmc_dirichlet_boundary.MirrorChargeSystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to create a cubic system of mirror charges from an initial system.
The intent is that the potential field on the boundaries of the original
system are zero. The current implementation only allows for one direction
to have a zero field boundary condition.</p>
<p>This class is initialised with a set of positions, charges and globals ids
to create a mirror charge system from. It is assumed that the global ids
are in [0, N-1] for N charges. The new global ids are in [N, 2N-1].</p>
<p>The new state contains a new ParticleDat (ncomp=2, dtype=c_int64) that
indicates if a particle is a mirror charge or an “original” charge.</p>
<p>The 0-th component points to the new mirror for the original positions</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mirror_map</span><span class="p">[:</span><span class="n">N</span><span class="p">:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_ids</span><span class="p">[</span><span class="n">N</span><span class="p">:</span><span class="mi">2</span><span class="o">*</span><span class="n">N</span><span class="p">:,</span> <span class="mi">0</span><span class="p">]</span>
<span class="c1"># and to the original id for the mirrors</span>
<span class="n">mirror_map</span><span class="p">[</span><span class="n">N</span><span class="p">:</span><span class="mi">2</span><span class="o">*</span><span class="n">N</span><span class="p">:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_ids</span><span class="p">[:</span><span class="n">N</span><span class="p">:,</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>The 1-th component indicates if the charge is a mirror.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mirror_maps</span><span class="p">[:</span><span class="n">N</span><span class="p">:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">MIRROR_ORIG</span>
<span class="k">if</span>   <span class="n">dims_to_zero</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="n">flag</span> <span class="o">=</span> <span class="n">MIRROR_X_REFLECT</span>
<span class="k">elif</span> <span class="n">dims_to_zero</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">flag</span> <span class="o">=</span> <span class="n">MIRROR_Y_REFLECT</span>
<span class="k">elif</span> <span class="n">dims_to_zero</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">flag</span> <span class="o">=</span> <span class="n">MIRROR_Z_REFLECT</span>
<span class="n">mirror_maps</span><span class="p">[</span><span class="n">N</span><span class="p">:</span><span class="mi">2</span><span class="o">*</span><span class="n">N</span><span class="p">:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">flag</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dims_to_zero</strong> – xyz tuple of directions to make zero on boundary. e.g. (True, False, False) for x-direction.</p></li>
<li><p><strong>state</strong> – initial state to tile and reflect.</p></li>
<li><p><strong>position_name</strong> (<em>str</em>) – Name of PositionDat instance in passed state.</p></li>
<li><p><strong>charge_name</strong> (<em>str</em>) – Name of ParticleDat (ncomp=1, dtype=c_double) to use for charges.</p></li>
<li><p><strong>id_name</strong> (<em>str</em>) – Name of ParticleDat (ncomp=1, dtype=c_int64) to use for global ids.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="coulomb_kmc.kmc_dirichlet_boundary.MirrorChargeSystem.mirror_state">
<code class="sig-name descname">mirror_state</code><a class="headerlink" href="#coulomb_kmc.kmc_dirichlet_boundary.MirrorChargeSystem.mirror_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Created state with 2N particles.
<cite>PositionDat</cite> named <cite>position_name</cite>,
<cite>ParticleDat</cite> named <cite>charge_name</cite>,
<cite>ParticleDat</cite> named <cite>id_name</cite> and
<cite>ParticleDat</cite> named “mirror_map”.</p>
</dd></dl>

</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">coulomb_kmc</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kmc_fmm.html">FMM-KMC Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../example_general.html"><strong>propose_with_dats</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../example_bookkeeping.html">Bookkeeping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../example_simple.html"><strong>propose</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../example_accept.html"><strong>accept</strong></a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development_guide.html">Development Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="coulomb_kmc.html">coulomb_kmc package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="coulomb_kmc.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="coulomb_kmc.common.html">coulomb_kmc.common module</a></li>
<li class="toctree-l3"><a class="reference internal" href="coulomb_kmc.kmc_direct.html">coulomb_kmc.kmc_direct module</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">coulomb_kmc.kmc_dirichlet_boundary module</a></li>
<li class="toctree-l3"><a class="reference internal" href="coulomb_kmc.kmc_expansion_tools.html">coulomb_kmc.kmc_expansion_tools module</a></li>
<li class="toctree-l3"><a class="reference internal" href="coulomb_kmc.kmc_fmm.html">coulomb_kmc.kmc_fmm module</a></li>
<li class="toctree-l3"><a class="reference internal" href="coulomb_kmc.kmc_fmm_common.html">coulomb_kmc.kmc_fmm_common module</a></li>
<li class="toctree-l3"><a class="reference internal" href="coulomb_kmc.kmc_fmm_self_interaction.html">coulomb_kmc.kmc_fmm_self_interaction module</a></li>
<li class="toctree-l3"><a class="reference internal" href="coulomb_kmc.kmc_full_long_range.html">coulomb_kmc.kmc_full_long_range module</a></li>
<li class="toctree-l3"><a class="reference internal" href="coulomb_kmc.kmc_inject_extract.html">coulomb_kmc.kmc_inject_extract module</a></li>
<li class="toctree-l3"><a class="reference internal" href="coulomb_kmc.kmc_local.html">coulomb_kmc.kmc_local module</a></li>
<li class="toctree-l3"><a class="reference internal" href="coulomb_kmc.kmc_mpi_decomp.html">coulomb_kmc.kmc_mpi_decomp module</a></li>
<li class="toctree-l3"><a class="reference internal" href="coulomb_kmc.kmc_octal.html">coulomb_kmc.kmc_octal module</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="coulomb_kmc.html">coulomb_kmc package</a><ul>
      <li>Previous: <a href="coulomb_kmc.kmc_direct.html" title="previous chapter">coulomb_kmc.kmc_direct module</a></li>
      <li>Next: <a href="coulomb_kmc.kmc_expansion_tools.html" title="next chapter">coulomb_kmc.kmc_expansion_tools module</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, William Saunders.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/modules/coulomb_kmc.kmc_dirichlet_boundary.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>